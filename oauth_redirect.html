<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>INat prototypes - OAuth page</title>
    <meta name="author" content="Sean Clifford">
  </head>
  
  <body>
    Redirected back to continue authentication by requesting oauth/token <br>
    <div id="result"></div>
    <script src="js/constants.js?v=1.0.0"></script>
    <script src="js/api.js?v=1.0.0"></script>
    <script src="js/auth.js?v=1.0.0"></script>
    <script>
      (async () => {
            
        const urlParams = new URLSearchParams(window.location.search);
        const auth_code = urlParams.get('code');

        await performTokenRequest(auth_code);

        let div = document.getElementById('result');
        div.innerHTML = "Completed requesting access token!";
        //redirectToPreAuthLocation();
      })();
    </script>
  </body>
</html>